<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Tic Tac Toe Game</title>
	<style>
		*, *:before, *:after {
	  		-moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box;
	 	}

	 	body {
	 		font-family: "Helvetica", "Arial", sans-serif;
	 	}

	 	.container {
	 		width: 540px;
	 		margin: 30px auto;
	 		overflow: hidden;
	 	}

	 	h1 {
	 		text-align: center;
	 		font-size: 50px;
	 	}

	 	p.player {
	 		float: left;
	 		width: 200px;
	 		margin: 30px 0 0 30px;
	 		font-size: 20px;
	 	}

	 	button {
	 		font-size: 20px;
	 		padding: 10px;
	 		border: none;
			background: #d12026;
			color: #fff;
			cursor: pointer;
			float: right;
			margin-top: 20px;
	 	}
		button:hover {
			color: #222;
		}

		.grid {
			width: 540px;
			padding: 15px;
			overflow: hidden;
			border-radius: 5px;
			background: #222;
		}

		.square {
			width: 150px;
			height: 150px;
			float: left;
			border-radius: 50%;
			margin: 10px;
			font-size: 100px;
			text-align: center;
			line-height: 150px;
			color: #d12026;
			background: #fff;
			cursor: pointer;
			transition: all 0.3s;
		}

		.square:hover {
			/*//background: linear-gradient(135deg, #d6f9ff 0%,#9ee8fa 100%); */
			transform: scale(1.05);
		}

	</style>
</head>
<body>
	<div class="container">
		<h1>Tic-Hack-Toe</h1>
		<div class="grid" id="grid">
			<div class="square"></div>
			<div class="square"></div>
			<div class="square"></div>
			<div class="square"></div>
			<div class="square"></div>
			<div class="square"></div>
			<div class="square"></div>
			<div class="square"></div>
			<div class="square"></div>
		</div>
		<p class="player"><span>X</span>'s turn to play.</p>
		<button class="clear">New Game</button>
	</div>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<script>
		var ticTacToeApp = {};

		ticTacToeApp.currentPlayer = "X";

		ticTacToeApp.init = function() {
			ticTacToeApp.$squares = $('#grid').find('.square');
			ticTacToeApp.$playerLabel = $('.player span')

			ticTacToeApp.$squares.on('click', function(){
				ticTacToeApp.placeMarker($(this));
			});

		  $('.clear').on('click', function(){
		    ticTacToeApp.clearBoard();
		  });
		}

		ticTacToeApp.placeMarker = function($square){
			//don't do anything if the square is already taken
			if ($square.hasClass('inactive')){
				return;
			}
		  // puts an X or an O on the board
		  // and marks the square as unavailable
			$square.html(ticTacToeApp.currentPlayer).addClass('inactive');

		  // switch who's turn it is
		  ticTacToeApp.switchPlayer();

		  // and check to see if anyone won
		  ticTacToeApp.checkForWin($square);
		}

		ticTacToeApp.switchPlayer = function(){
			// check to see who the current player is
			// and switch to the oppoiste one
		  if (ticTacToeApp.currentPlayer == "X") {
		  	ticTacToeApp.currentPlayer = "O";
		  } else {
		  	ticTacToeApp.currentPlayer = "X";
		  }

		  //also update the player playerLabel
		  ticTacToeApp.$playerLabel.html(ticTacToeApp.currentPlayer);
		}

		ticTacToeApp.clearBoard = function(){
		  ticTacToeApp.$squares.html("").removeClass('inactive');
		}

		ticTacToeApp.checkForWin = function(){
		  //checks to see if there is a row of three anywhere
		  var moves = [];
		  var movesMade = 0;

		  ticTacToeApp.$squares.each(function(){
		  	if ($(this).html() == "X") {
		  		moves.push(1);
		  		movesMade ++;
		  	} else if ($(this).html() == "O"){
		  		moves.push(-1);
		  		movesMade ++;
		  	} else {
		  		moves.push(0);
		  	}
		  });

		  var wins = [
		  	//rows
		  	moves[0] + moves[1] + moves[2],
		  	moves[3] + moves[4] + moves[5],
		  	moves[6] + moves[7] + moves[8],
		  	//cols
		  	moves[0] + moves[3] + moves[6],
		  	moves[1] + moves[4] + moves[7],
		  	moves[2] + moves[5] + moves[8],
		  	//diagonals
		  	moves[0] + moves[4] + moves[8],
		  	moves[2] + moves[4] + moves[6]
		  ];

		  if (wins.indexOf(3) >= 0) {
		  	alert("X wins!");
		  	ticTacToeApp.$squares.addClass('inactive');
		  } else if (wins.indexOf(-3) >= 0){
		  	alert("O wins!");
		  	ticTacToeApp.$squares.addClass('inactive');
		  } else if (movesMade == 9){
		  	alert("Game over! It's a draw.");
		  }
		}


		$(function(){
			ticTacToeApp.init();
		});

	</script>
</body>
</html>