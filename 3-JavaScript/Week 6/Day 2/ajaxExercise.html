<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Ajax</title>
</head>
<body>
<form action="" class="weatherInput">
	<input type="text" name="city">
	<input type="submit" value="Show me the weather">
</form>
<h1 class="weather"></h1>
	 <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	 <script>
	 $(function() { 
	 	if(!data.current_observation) {
	 		("h1.weather").text("Please be more specific");
	 		return false;
	 	}
	 	var goGetWeather = function(city){

	 		var encodedCity = encodeURI(city);
		 	$.ajax("http://api.wunderground.com/api/350ddaffc35038a5/conditions/q/" + encodedCity + ".json", {
		 		type : "GET",
		 		dataType : "jsonp",
		 		success : function(data) {
		 				var w = data.current_observation;
		 				var weather = w.weather;
		 				var city = w.observation_location.city;
		 				var temp = w.temp_c;
		 				var feelslike = w.feelslike_c;
		 				var hrstring = "It's " + weather + " in " + city + " with a temperature of  " + temp + " and it feels like " + feelslike;
		 				$("h1.weather").text(hrstring);
		 		}
		 	}); //end ajax
		}; //end goGetTheWeather
		goGetWeather();

	
		$("form.weatherInput").on("submit", function(e){
			e.preventDefault();
			var city = $("input[name='city']").val();
			goGetWeather(city);

		}); //end form stuff	
	 
	 }); // end doc ready

	 	</script>
</body>
</html>